{"ast":null,"code":"import _objectSpread from \"/home/damien/source/react/react-redux-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { CHECKOUT_PENDING, CHECKOUT_FULFILLED, ADD_PRODUCT, REMOVE_PRODUCT_BY_ID } from '../actions/cart-actions';\n\nconst cartReducer = (state = {\n  items: [],\n  isLoading: false\n}, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_PRODUCT:\n      if (state.items.some(item => item.id === payload.product.id)) {\n        return _objectSpread({}, state, {\n          items: state.items.map(item => item.id === payload.product.id ? _objectSpread({}, item, {\n            quantity: item.quantity + 1\n          }) : item)\n        });\n      }\n\n      return _objectSpread({}, state, {\n        items: [...state.items, {\n          id: payload.product.id,\n          product: payload.product,\n          quantity: 1\n        }]\n      });\n\n    case REMOVE_PRODUCT_BY_ID:\n      return _objectSpread({}, state, {\n        items: state.items.filter(item => item.id !== payload.id)\n      });\n\n    case CHECKOUT_PENDING:\n      return _objectSpread({}, state, {\n        isLoading: true\n      });\n\n    case CHECKOUT_FULFILLED:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        items: []\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/home/damien/source/react/react-redux-shop/src/store/reducers/cart-reducer.js"],"names":["CHECKOUT_PENDING","CHECKOUT_FULFILLED","ADD_PRODUCT","REMOVE_PRODUCT_BY_ID","cartReducer","state","items","isLoading","type","payload","some","item","id","product","map","quantity","filter"],"mappings":";AAAA,SACEA,gBADF,EACoBC,kBADpB,EACwCC,WADxC,EACqDC,oBADrD,QAEO,yBAFP;;AAIA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAG;AAAEC,EAAAA,KAAK,EAAE,EAAT;AAAaC,EAAAA,SAAS,EAAE;AAAxB,CAAT,EAA0C;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAA1C,KAAgE;AAClF,UAAQD,IAAR;AACE,SAAKN,WAAL;AACE,UAAIG,KAAK,CAACC,KAAN,CAAYI,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYH,OAAO,CAACI,OAAR,CAAgBD,EAArD,CAAJ,EAA8D;AAC5D,iCACKP,KADL;AAEEC,UAAAA,KAAK,EAAED,KAAK,CAACC,KAAN,CACJQ,GADI,CACAH,IAAI,IAAKA,IAAI,CAACC,EAAL,KAAYH,OAAO,CAACI,OAAR,CAAgBD,EAA5B,qBACLD,IADK;AACCI,YAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAAL,GAAgB;AAD3B,eAEVJ,IAHC;AAFT;AAOD;;AACD,+BACKN,KADL;AAEEC,QAAAA,KAAK,EAAE,CAAC,GAAGD,KAAK,CAACC,KAAV,EAAiB;AAAEM,UAAAA,EAAE,EAAEH,OAAO,CAACI,OAAR,CAAgBD,EAAtB;AAA0BC,UAAAA,OAAO,EAAEJ,OAAO,CAACI,OAA3C;AAAoDE,UAAAA,QAAQ,EAAE;AAA9D,SAAjB;AAFT;;AAIF,SAAKZ,oBAAL;AACE,+BAAYE,KAAZ;AAAmBC,QAAAA,KAAK,EAAED,KAAK,CAACC,KAAN,CAAYU,MAAZ,CAAmBL,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYH,OAAO,CAACG,EAA/C;AAA1B;;AACF,SAAKZ,gBAAL;AACE,+BAAYK,KAAZ;AAAmBE,QAAAA,SAAS,EAAE;AAA9B;;AACF,SAAKN,kBAAL;AACE,+BAAYI,KAAZ;AAAmBE,QAAAA,SAAS,EAAE,KAA9B;AAAqCD,QAAAA,KAAK,EAAE;AAA5C;;AACF;AACE,aAAOD,KAAP;AAtBJ;AAwBD,CAzBD;;AA2BA,eAAeD,WAAf","sourcesContent":["import {\n  CHECKOUT_PENDING, CHECKOUT_FULFILLED, ADD_PRODUCT, REMOVE_PRODUCT_BY_ID,\n} from '../actions/cart-actions';\n\nconst cartReducer = (state = { items: [], isLoading: false }, { type, payload }) => {\n  switch (type) {\n    case ADD_PRODUCT:\n      if (state.items.some(item => item.id === payload.product.id)) {\n        return {\n          ...state,\n          items: state.items\n            .map(item => (item.id === payload.product.id\n              ? { ...item, quantity: item.quantity + 1 }\n              : item)),\n        };\n      }\n      return {\n        ...state,\n        items: [...state.items, { id: payload.product.id, product: payload.product, quantity: 1 }],\n      };\n    case REMOVE_PRODUCT_BY_ID:\n      return { ...state, items: state.items.filter(item => item.id !== payload.id) };\n    case CHECKOUT_PENDING:\n      return { ...state, isLoading: true };\n    case CHECKOUT_FULFILLED:\n      return { ...state, isLoading: false, items: [] };\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;\n"]},"metadata":{},"sourceType":"module"}